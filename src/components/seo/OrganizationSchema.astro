---
// Organization Schema Component
// ------------
// Description: Generates JSON-LD structured data for organizations
// This helps Google understand your brand identity and display your logo in search results
// https://schema.org/Organization

interface Props {
	name: string
	url: string
	logo?: string
	description?: string
	email?: string
	telephone?: string
	address?: {
		streetAddress?: string
		addressLocality?: string
		addressRegion?: string
		postalCode?: string
		addressCountry?: string
	}
	sameAs?: string[] // Social media URLs
	foundingDate?: string // ISO 8601 format: "2020-01-15"
	founder?: string
	numberOfEmployees?: number
}

const {
	name,
	url,
	logo,
	description,
	email,
	telephone,
	address,
	sameAs,
	foundingDate,
	founder,
	numberOfEmployees
} = Astro.props

// Build the schema object
const schema: Record<string, any> = {
	'@context': 'https://schema.org',
	'@type': 'Organization',
	name,
	url
}

if (logo) schema.logo = logo
if (description) schema.description = description
if (email) schema.email = email
if (telephone) schema.telephone = telephone
if (sameAs && sameAs.length > 0) schema.sameAs = sameAs
if (foundingDate) schema.foundingDate = foundingDate
if (founder) schema.founder = { '@type': 'Person', name: founder }
if (numberOfEmployees) schema.numberOfEmployees = numberOfEmployees

// Address
if (address) {
	schema.address = {
		'@type': 'PostalAddress',
		...(address.streetAddress && { streetAddress: address.streetAddress }),
		...(address.addressLocality && { addressLocality: address.addressLocality }),
		...(address.addressRegion && { addressRegion: address.addressRegion }),
		...(address.postalCode && { postalCode: address.postalCode }),
		...(address.addressCountry && { addressCountry: address.addressCountry })
	}
}

// Contact point
if (telephone || email) {
	schema.contactPoint = {
		'@type': 'ContactPoint',
		contactType: 'customer service',
		...(telephone && { telephone }),
		...(email && { email })
	}
}
---

<script is:inline type="application/ld+json" set:html={JSON.stringify(schema)} />
